<UserControl x:Class="QuickCode.Modules.ContentRegion.Views.ContentRegionView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:QuickCode.Modules.ContentRegion.Views"
             xmlns:prism="http://prismlibrary.com/" 
             xmlns:hc="https://handyorg.github.io/handycontrol"
             prism:ViewModelLocator.AutoWireViewModel="True" >
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="30"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Grid.ColumnSpan="3" Orientation="Horizontal" >
            
            <Button 
                Margin="10 0 0 0"
                HorizontalAlignment="Left"
                ToolTip="Start execute code without debug"
                Command="{Binding CodeExecuteCommand}"
                CommandParameter="false"
                Style="{DynamicResource ButtonIcon}"
                hc:IconElement.Geometry="M53.125 162.5L67.7 170.3L167.7 103.6375V88.0375L67.7 21.3625L53.125 29.1625V162.5zM71.875 144.9875V46.6875L145.6 95.8375L71.875 144.9875z"
                Foreground="Green"/>

            <Button 
                HorizontalAlignment="Left"
                ToolTip="Start execute code with debug (pdb)"
                Command="{Binding CodeExecuteCommand}"
                CommandParameter="true"
                Style="{DynamicResource ButtonIcon}"
                hc:IconElement.Geometry="M31.25 175H50V25H31.25V175zM92.95 170.125L78.125 162.5V37.5L92.95 29.875L180.45 92.375V107.625L92.95 170.125zM158.875 100L96.875 55.7125V144.2875L158.875 100z"
                Foreground="Green"/>

            <Button 
                HorizontalAlignment="Left"
                ToolTip="Stop code execute"
                Command="{Binding StopCommand}"
                Style="{DynamicResource ButtonIcon}"
                hc:IconElement.Geometry="M 24 24 L 24 52 L 52 52 L 52 24 L 24 24 z "
                />

            <Button 
                HorizontalAlignment="Left"
                ToolTip="Next step"
                Command="{Binding SendDebuggerCommand}"
                CommandParameter="n"
                Style="{DynamicResource ButtonIcon}"
                hc:IconElement.Geometry="M12,22A2,2 0 0,1 10,20A2,2 0 0,1 12,18A2,2 0 0,1 14,20A2,2 0 0,1 12,22M13,2V13L17.5,8.5L18.92,9.92L12,16.84L5.08,9.92L6.5,8.5L11,13V2H13Z"/>

            <Button 
                HorizontalAlignment="Left"
                Content="llist" 
                Command="{Binding SendDebuggerCommand}"
                CommandParameter="ll"
                Style="{DynamicResource ButtonIcon}"
                hc:IconElement.Geometry="M75 75V87.5H187.5V75H75zM125 125H187.5V112.5H125V125zM187.5 162.5V150H75V162.5H187.5zM75 50V37.5H187.5V50H75zM12.5 165.0625L22.2875 170.3L89.425 125.5375V115.0625L22.2875 70.3L12.5 75.5375V165.0625zM25.0875 153.3125V87.3L74.5875 120.3L25.0875 153.3z"
                />

            <Button HorizontalAlignment="Left"
                    ToolTip="Restart debug"
                    Command="{Binding SendDebuggerCommand}"
                    CommandParameter="restart"
                    Style="{DynamicResource ButtonIcon}"
                    hc:IconElement.Geometry="M159.375 100A56.25 56.25 0 0 0 51.75 77.075L34.3625 70.0125A75.0125 75.0125 0 0 1 178.125 100A75 75 0 0 1 43.75 145.825V168.75H25V118.75L34.375 109.375H78.125V128.125H54.4A56.25 56.25 0 0 0 159.375 100z"/>

            <CheckBox Content="IsConnected"
                      HorizontalAlignment="Right"
                      VerticalAlignment="Center"
                      IsEnabled="False"
                      IsChecked="{Binding IsConnected}"/>

        </StackPanel>

        <TextBox Grid.Row="1"
                 Grid.Column="0"
                 Margin="10 10 10 10"
                 Padding="10"
                 FontSize="14"
                 FontFamily="Consolas"
                 FontWeight="Medium"
                 TextWrapping="Wrap"
                 AcceptsReturn="True"
                 VerticalContentAlignment="Top"

                 Text="{Binding SourceCode, UpdateSourceTrigger=PropertyChanged}"/>


        <GridSplitter Grid.Column="1"
                      Grid.Row="1"
                      Width="3" 
                      Margin="0 10 0 10"
                      HorizontalAlignment="Stretch"
                      Background="{DynamicResource BorderBrush}"   />
        
        <TextBox x:Name="ExecutionResultEditor"
                 Grid.Row="1"
                 Grid.Column="2"
                 Margin="10"
                 Padding="10"
                 FontSize="14"
                 FontFamily="Consolas"
                 FontWeight="Medium"
                 TextWrapping="Wrap"
                 IsReadOnly="True"
                 VerticalContentAlignment="Top"
                 
                 Text="{Binding ExecutionResult, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
    </Grid>
</UserControl>
